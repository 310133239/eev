var Eev=function(){var e=0,t=/[^\w\-]+/g;function n(e){this.head=new i,this.tail=new i(this.head),this.head.next=this.tail,this.linkConstructor=e,this.reg={}}n.prototype={insert:function(e){var t=new i(this.tail.prev,this.tail,e);return t.next.prev=t.prev.next=t,t},remove:function(e){e.prev.next=e.next,e.next.prev=e.prev}};function i(e,t,n){this.prev=e,this.next=t,this.fn=n||r}i.prototype.run=function(e){this.fn(e),this.next&&this.next.run(e)};function r(){}function o(){this.events={}}return o.prototype={on:function(i,r){var o=this;i.split(t).forEach(function(t){var i=o.events[t]||(o.events[t]=new n),s=r._eev||(r._eev=++e);i.reg[s]||(i.reg[s]=i.insert(r))})},off:function(e,n){var i=this;n&&e.split(t).forEach(function(e){var t=i.events[e];if(t){var r=t.reg[n._eev];t.reg[n._eev]=void 0,t&&r&&t.remove(r)}})},emit:function(e,t){var n=this.events[e];n&&n.head.run(t)}},o}();!function(e,t){var n=e.define;n&&n.amd?n([],t):"undefined"!=typeof module&&module.exports&&(module.exports=t())}(this,function(){return Eev});