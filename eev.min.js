var Eev=function(){function e(){this.id=++r,this.events={}}function t(e){this.head=new n,this.tail=new n(this.head),this.head.next=this.tail,this.linkConstructor=e}function n(e,t,n){this.prev=e,this.next=t,this.fn=n||i}function i(){}var r=0;return e.prototype={on:function(e,t){var n=this;this.eachName(e,function(e){n.isRegistered(e,t)||n.register(e,t)})},off:function(e,t){var n=this;this.eachName(e,function(e){n.isRegistered(e,t)&&n.unregister(e,t)})},eachName:function(e,t){for(var n=e.split(/\W+/g),i=0;i<n.length;++i)t(n[i])},emit:function(e,t){var n=this.events[e];n&&n.head.run(t)},scoped:function(e){return this.id+"_"+e},isRegistered:function(e,t){return t._eev&&t._eev[this.scoped(e)]},register:function(e,t){var n=this.insertLinkInList(e,t);this.insertLinkInFn(e,n,t)},insertLinkInList:function(e,n){var i=this.events[e]||(this.events[e]=new t);return i.insert(n)},insertLinkInFn:function(e,t,n){var i=n._eev||(n._eev={});i[this.scoped(e)]=t},unregister:function(e,t){var n=this.removeLinkFromFn(e,t);this.removeLinkFromList(e,n)},removeLinkFromFn:function(e,t){e=this.scoped(e);var n=t._eev[e];return t._eev[e]=void 0,n},removeLinkFromList:function(e,t){var n=this.events[e];n&&n.remove(t)}},t.prototype={insert:function(e){var t=new n(this.tail.prev,this.tail,e);return t.next.prev=t.prev.next=t,t},remove:function(e){e.prev.next=e.next,e.next.prev=e.prev}},n.prototype.run=function(e){this.fn(e),this.next&&this.next.run(e)},e}();!function(e,t){var n=e.define;n&&n.amd?n([],t):"undefined"!=typeof module&&module.exports&&(module.exports=t())}(this,function(){return Eev});
//# sourceMappingURL=eev.min.js.map